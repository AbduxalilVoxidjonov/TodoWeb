@model IEnumerable<dynamic>

<div class="container mt-4">
    <h3>Ro'yxatdan o'tgan foydalanuvchilar</h3>
    <table class="table table-hover border mt-3">
        <thead class="table-dark">
            <tr>
                <th>Foydalanuvchi</th>
                <th>Email</th>
                <th class="text-center">Jami Tasklar</th>
                <th class="text-center text-warning">Aktiv</th>
                <th class="text-center text-success">Bajarilgan</th>
                <th class="text-center">Amallar</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model)
            {
                <tr>
                    <td><strong>@user.UserName</strong></td>
                    <td>@user.Email</td>
                    <td class="text-center">
                        <span class="badge bg-secondary">@user.TotalTasks</span>
                    </td>
                    <td class="text-center">
                        <span class="badge bg-warning text-dark">@user.ActiveTasks</span>
                    </td>
                    <td class="text-center">
                        <span class="badge bg-success">@user.CompletedTasks</span>
                    </td>
                    <td class="text-center">
                        <div class="btn-group">
                            <a asp-action="UserTasks" asp-route-id="@user.Id" class="btn btn-sm btn-info text-white">
                                View Tasks
                            </a>
                            <form asp-action="DeleteUser" asp-route-id="@user.Id" method="post"
                                  onsubmit="return confirm('Foydalanuvchini o\'chirishni tasdiqlaysizmi?');">
                                <button type="submit" class="btn btn-sm btn-danger ms-1">O'chirish</button>
                            </form>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>